<h3>New Event</h3>
<hr />

<form [formGroup]="newEventForm" (ngSubmit)="onSubmit(newEventForm.value)">

  <div class="form-group">
    <label for="name">Name</label>
    <input id="name" formControlName="name" class="form-control" type="text" required />
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
      <div *ngIf="name.errors.required">Name is required.</div>
    </div>
  </div>

  {{newEventForm.valid}}

  <div class="form-group">
    <label for="start">Start Date</label>
    <input class="form-control"
           id="start"
           formControlName="start"
           type="text"
           mwlFlatpickr
           [altInput]="true"
           [convertModelValue]="true"
           [enableTime]="true"
           altFormat="F j, Y H:i"
           dateFormat="Y-m-d H:i">
    <div *ngIf="start.invalid && (start.dirty || start.touched)" class="alert alert-danger">
      <div *ngIf="start.errors.required">Start date is required.</div>
    </div>
  </div>

    <div class="form-group">
      <label for="end">End Date</label>
      <input class="form-control"
             formControlName="end"
             type="text"
             mwlFlatpickr
             [altInput]="true"
             [convertModelValue]="true"
             [enableTime]="true"
             altFormat="F j, Y H:i"
             dateFormat="Y-m-d H:i">
    </div>

    <div class="btn-toolbar">
      <button class="btn btn-secondary btn-block" type="button" routerLink="/events">Cancel</button>
      <button class="btn btn-primary btn-block" type="submit" [disabled]="newEventForm.invalid">Save</button>
    </div>

</form>
